jQuery(function(i){var e=i("#yith_wcdp_general_deposit_type"),t=i("#yith_wcdp_general_deposit_amount"),n=i("#yith_wcdp_general_deposit_rate"),a=i("#yith_wcdp_general_deposit_virtual"),o=i("#yith_wcdp_general_deposit_shipping"),c=i("#yith_wcdp_general_deposit_shipping_admin_selection"),r=i("#yith_wcdp_general_create_balance_orders"),d=i("#yith_wcdp_deposit_expiration_enable"),p=i("#yith_wcdp_deposits_expiration_type"),s=i("#yith_wcdp_deposits_expiration_duration"),_=i("#yith_wcdp_deposits_expiration_date"),l=i("#yith_wcdp_deposits_expiration_product_fallback"),h=i("#yith_wcdp_deposit_expiration_fallback"),u=i("#yith_wcdp_notify_customer_deposit_expiring"),y=i("#yith_wcdp_notify_customer_deposit_expiring_days_limit"),f=i("#yith_wcdp_balance_type"),w=i("#yith_wcdp_deposit_labels_product_note"),g=i("#yith_wcdp_deposit_labels_product_note_position");e.on("change",function(){var e=i(this).val();"amount"==e?(t.parents("tr").show(),n.parents("tr").hide()):"rate"==e&&(t.parents("tr").hide(),n.parents("tr").show())}).change(),a.on("change",function(){(i(this).is(":checked")?o.parents("tr").show():o.parents("tr").hide()).end().change()}).change(),o.on("change",function(){var e=i(this);"admin_choose"===e.val()&&e.is(":visible")?c.parents("tr").show():c.parents("tr").hide()}).change(),d.on("change",function(){i(this).is(":checked")?(p.parents("tr").show().end().change(),u.change().parents("tr").show(),h.change().parents("tr").show()):(p.parents("tr").hide(),s.parents("tr").hide(),_.parents("tr").hide(),u.parents("tr").hide(),y.parents("tr").hide(),l.parents("tr").hide(),h.change().parents("tr").hide())}).change(),f.on("change",function(){"none"===i(this).val()?r.parents("tr").hide():r.parents("tr").show()}).change(),p.on("change",function(){var e=i(this);e.is(":visible")&&("num_of_days"===e.val()?(s.parents("tr").show(),_.parents("tr").hide(),l.parents("tr").hide()):(s.parents("tr").hide(),_.parents("tr").show(),l.parents("tr").show()))}).change(),u.on("change",function(){i(this).is(":checked")?y.parents("tr").show():y.parents("tr").hide()}).change(),g.on("change",function(){"none"===i(this).val()?w.parents("tr").hide():w.parents("tr").show()}).change(),i("#yith_wcdp_panel_deposits").find("td.column-type select").on("change",function(){var e=i(this),t=e.closest("tr").find(".column-value").find("input");"rate"===e.val()?t.attr("max",100):t.attr("max",9999999)}).change(),i(".yith-roles-update-deposit").on("click",function(e){var t=i(this),n=t.parents("tr"),a=t.data("role_slug"),o=n.find(".column-type select").val(),n=n.find(".column-value input").val();e.preventDefault(),"rate"===o&&100<n?alert(yith_wcdp.labels.max_rate_notice):i.ajax({beforeSend:function(){t.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},data:{action:"yith_wcdp_update_roles_deposit",role_slug:a,type:o,value:n,_wpnonce:yith_wcdp.nonce},dataType:"json",method:"POST",complete:function(){t.unblock()},success:function(e){},url:ajaxurl})}),i(".yith-roles-delete-deposit").on("click",function(e){var t=i(this),n=t.parents("tr"),a=n.parents("tbody"),o=t.data("role_slug");e.preventDefault(),i.ajax({beforeSend:function(){t.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},data:{action:"yith_wcdp_delete_roles_deposit",role_slug:o,_wpnonce:yith_wcdp.nonce},dataType:"json",method:"POST",complete:function(){t.unblock()},success:function(e){n.remove(),0==a.find("tr").length&&a.html(yith_wcdp.empty_row)},url:ajaxurl})}),i(".yith-products-update-deposit").on("click",function(e){var t=i(this),n=t.parents("tr"),a=t.data("product_id"),o=n.find(".column-type select").val(),n=n.find(".column-value input").val();e.preventDefault(),"rate"===o&&100<n?alert(yith_wcdp.labels.max_rate_notice):i.ajax({beforeSend:function(){t.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},data:{action:"yith_wcdp_update_products_deposit",product_id:a,type:o,value:n,_wpnonce:yith_wcdp.nonce},dataType:"json",method:"POST",complete:function(){t.unblock()},success:function(e){},url:ajaxurl})}),i(".yith-products-delete-deposit").on("click",function(e){var t=i(this),n=t.parents("tr"),a=n.parents("tbody"),o=t.data("product_id");e.preventDefault(),i.ajax({beforeSend:function(){t.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},data:{action:"yith_wcdp_delete_products_deposit",product_id:o,_wpnonce:yith_wcdp.nonce},dataType:"json",method:"POST",complete:function(){t.unblock()},success:function(e){n.remove(),0==a.find("tr").length&&a.html(yith_wcdp.empty_row)},url:ajaxurl})}),i(".yith-categories-update-deposit").on("click",function(e){var t=i(this),n=t.parents("tr"),a=t.data("term_id"),o=n.find(".column-type select").val(),n=n.find(".column-value input").val();e.preventDefault(),"rate"===o&&100<n?alert(yith_wcdp.labels.max_rate_notice):i.ajax({beforeSend:function(){t.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},data:{action:"yith_wcdp_update_categories_deposit",term_id:a,type:o,value:n,_wpnonce:yith_wcdp.nonce},dataType:"json",method:"POST",complete:function(){t.unblock()},success:function(e){},url:ajaxurl})}),i(".yith-categories-delete-deposit").on("click",function(e){var t=i(this),n=t.parents("tr"),a=n.parents("tbody"),o=t.data("term_id");e.preventDefault(),i.ajax({beforeSend:function(){t.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},data:{action:"yith_wcdp_delete_categories_deposit",term_id:o,_wpnonce:yith_wcdp.nonce},dataType:"json",method:"POST",complete:function(){t.unblock()},success:function(e){n.remove(),0===a.find("tr").length&&a.html(yith_wcdp.empty_row)},url:ajaxurl})}),i(document.body).on("wc-init-datepickers woocommerce_variations_loaded",function(){i(".date-picker-field, .date-picker").datepicker({dateFormat:"yy-mm-dd",numberOfMonths:1,showButtonPanel:!0})}).trigger("wc-init-datepickers")});